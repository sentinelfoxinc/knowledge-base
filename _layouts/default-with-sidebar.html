<!DOCTYPE html>
<html lang="{{ site.lang | default: 'en-US' }}">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    {% seo %}
    <link rel="stylesheet" href="{{ '/assets/css/style.css?v=' | append: site.github.build_revision | relative_url }}">
    {% include head-custom.html %}
  </head>
  <body>
    <div class="page-wrapper">
      <!-- Sidebar -->
      <nav class="knowledge-sidebar">
        <div class="sidebar-header">
          <h2>Knowledge Base</h2>
        </div>
        <ul class="sidebar-nav">
          <li><a href="{{ '/' | relative_url }}" class="nav-link {% if page.url == '/' %}active{% endif %}">üè† Home</a></li>
          
          <li class="nav-section">
            <span class="section-title">‚òÅÔ∏è AWS</span>
            <ul class="nav-submenu">
              <li><a href="{{ '/aws/vpc' | relative_url }}" class="nav-link {% if page.url contains '/aws/vpc' %}active{% endif %}">VPC</a></li>
              <li><a href="{{ '/aws/rds' | relative_url }}" class="nav-link {% if page.url contains '/aws/rds' %}active{% endif %}">RDS</a></li>
            </ul>
          </li>
          
          <li class="nav-section">
            <span class="section-title">üõ†Ô∏è Terraform</span>
            <ul class="nav-submenu">
              <li><a href="{{ '/terraform/workspace' | relative_url }}" class="nav-link {% if page.url contains '/terraform/workspace' %}active{% endif %}">Workspace</a></li>
              <li><a href="{{ '/terraform/state-file' | relative_url }}" class="nav-link {% if page.url contains '/terraform/state-file' %}active{% endif %}">State File</a></li>
            </ul>
          </li>
        </ul>
      </nav>

      <!-- Main Content Area - FULL WIDTH -->
      <main class="knowledge-main">
        <div class="container">
          <header class="main-header">
            <h1 class="site-title">{{ site.title | default: site.github.repository_name }}</h1>
            
            {% if site.github.is_project_page %}
              <p class="view"><a href="{{ site.github.repository_url }}">View the Project on GitHub <small>{{ site.github.repository_nwo }}</small></a></p>
            {% endif %}
          </header>

          <section class="content-section">
            {{ content }}
          </section>

          <footer class="main-footer">
            {% if site.github.is_project_page %}
              <p>This project is maintained by <a href="{{ site.github.owner_url }}">{{ site.github.owner_name }}</a></p>
            {% endif %}
            <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
          </footer>
        </div>
      </main>
    </div>

    <script src="{{ '/assets/js/scale.fix.js' | relative_url }}"></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Mobile menu functionality
      const mobileMenuBtn = document.createElement('button');
      mobileMenuBtn.className = 'mobile-menu-btn';
      mobileMenuBtn.innerHTML = 'üìö Menu';
      document.querySelector('.main-header').prepend(mobileMenuBtn);
      
      mobileMenuBtn.addEventListener('click', function() {
        document.querySelector('.knowledge-sidebar').classList.toggle('mobile-open');
      });
      
      // Close menu when clicking on links
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', function() {
          document.querySelector('.knowledge-sidebar').classList.remove('mobile-open');
        });
      });
    });
    </script>
  </body>
</html>